### 计算器案例

作为我们的第一个语法案例，我们将构建一个简易计算器。选择表达式作为实现对象非常合理，因为它们在编程中无处不在。为保持简洁性，本案例将仅支持：
```antlr

基础算术运算符（加、减、乘、除）
带括号的表达式
整型数值
变量声明
同时，我们将限定仅处理整数运算，暂不引入浮点数支持。

```


以下示例代码展示了该语言的所有核心特性：

 	193
 	a = 5
 	b = 6
 	a+b*2
 	(1+2)*3



接下来我们简要介绍ANTLR语法规则中的几个关键要素（暂不深入细节）:

语法文件由描述语言结构的规则集组成，主要包含两类规则：

    语法结构规则（如 stat 和 expr）

    词汇符号规则（即词法规则，如标识符和整型数）

规则命名规范：

    小写字母开头的规则 → 解析规则（parser rules）

    大写字母开头的规则 → 词法规则（lexical rules）

规则编写要点：

    使用 | 运算符分隔同级的多个产生式选项

    可通过括号 ( ) 构建子规则，例如：
    ('*'|'/') 可匹配乘号或除号



ANTLR v4最显著的新特性之一是能够处理（大多数类型的）左递归规则。左递归规则指在备选分支起始处直接调用自身的语法规则。例如在本语法中，第11行和12行的expr规则就在备选分支左侧递归调用了expr自身。采用这种方式定义算术表达式表示法，比传统自顶向下解析策略所需的方案简单得多——在传统策略中，我们需要为每个运算符优先级单独定义规则。



