# ANTLR4 基础与进阶

## 了解ANTLR4基本工作流程

ANTLR4的工作过程可分为五个阶段：

1. **语法定义**：编写`.g4`语法文件
2. **代码生成**：ANTLR自动生成词法分析器(Lexer)和语法分析器(Parser)
3. **集成应用**：将生成的代码嵌入到你的程序中
4. **解析输入**：处理文本生成语法树
5. **遍历语法树**：通过监听器(Listener)或访问者(Visitor)模式操作语法树

---

## Hello World 案例

### G4文件三大组成部分

每个ANTLR语法文件都包含三个核心部分：

1. **语法声明**（Grammar Declaration）
2. **解析规则**（Parser Rules）
3. **词法规则**（Lexer Rules）

### 完整示例：Hello.g4

```antlr
// 1. 语法声明（必须与文件名一致）
grammar Hello;

// 2. 解析规则（小写字母开头）
// 定义语言结构：匹配'Hello'后接一个标识符
r : 'Hello' ID ;

// 3. 词法规则（大写字母开头）
// 定义如何将字符组合成词法符号

// 匹配1个或多个小写字母
ID : [a-z]+ ;

// 匹配空白字符但丢弃（不传给解析器）
WS : [ \t\r\n]+ -> skip ;